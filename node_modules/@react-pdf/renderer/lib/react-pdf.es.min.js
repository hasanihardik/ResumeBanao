import e from"@babel/runtime/helpers/extends";import*as n from"@react-pdf/primitives";export*from"@react-pdf/primitives";import r from"@babel/runtime/helpers/asyncToGenerator";import t from"@babel/runtime/regenerator";import o from"fs";import i from"@react-pdf/font";import u from"@react-pdf/render";import c from"@react-pdf/pdfkit";import a from"@react-pdf/layout";import f from"@babel/runtime/helpers/objectWithoutPropertiesLoose";import p from"react-reconciler";import{unstable_scheduleCallback as s,unstable_cancelCallback as d}from"scheduler";var l,m=function e(n,r){var t=Object.keys(n),o=Object.keys(r);if(t.length!==o.length)return!1;for(var i=0;i<t.length;i+=1){var u=t[i];if("render"===u&&!n[u]!=!r[u])return!1;if("children"!==u&&n[u]!==r[u]){if("object"==typeof n[u]&&"object"==typeof r[u]&&e(n[u],r[u]))continue;return!1}if("children"===u&&("string"==typeof n[u]||"string"==typeof r[u]))return n[u]===r[u]}return!0},v=["style","children"],h=["style"],y={},b=function(e,n){var r="TEXT"===e.type;"TEXT_INSTANCE"!==n.type||r?e.children.push(n):console.warn("Invalid '"+n.value+"' string child outside <Text> component")},w=function(e){var n=e.onChange;return p({schedulePassiveEffects:s,cancelPassiveEffects:d,supportsMutation:!0,isPrimaryRenderer:!1,warnsIfNotActing:!1,appendInitialChild:b,createInstance:function(e,n){var r=n.style;return n.children,{type:e,box:{},style:r||{},props:f(n,v)||{},children:[]}},createTextInstance:function(e,n){return{type:"TEXT_INSTANCE",value:e}},finalizeInitialChildren:function(e,n,r){return!1},getPublicInstance:function(e){return e},prepareForCommit:function(){},clearContainer:function(){},prepareUpdate:function(e,n,r,t){return!m(r,t)},resetAfterCommit:void 0===n?function(){}:n,resetTextContent:function(e){},getRootHostContext:function(){return y},getChildHostContext:function(){return y},shouldSetTextContent:function(e,n){return!1},now:Date.now,useSyncScheduling:!0,appendChild:b,appendChildToContainer:function(e,n){"ROOT"===e.type?e.document=n:b(e,n)},insertBefore:function(e,n,r){var t,o=null===(t=e.children)||void 0===t?void 0:t.indexOf(r);void 0!==o&&-1!==o&&n&&e.children.splice(o,0,n)},removeChild:function(e,n){var r,t=null===(r=e.children)||void 0===r?void 0:r.indexOf(n);void 0!==t&&-1!==t&&e.children.splice(t,1)},removeChildFromContainer:function(e,n){var r,t=null===(r=e.children)||void 0===r?void 0:r.indexOf(n);void 0!==t&&-1!==t&&e.children.splice(t,1)},commitTextUpdate:function(e,n,r){e.value=r},commitUpdate:function(e,n,r,t,o){var i=o.style,u=f(o,h);e.props=u,e.style=i}})},g="3.0.0",x=new i,C={},T=function(e){var n={type:"ROOT",document:null},o=(l=l||w({onChange:function(){for(var e,n=(null===(e=C.change)||void 0===e?void 0:e.slice())||[],r=0;r<n.length;r+=1)n[r]()}})).createContainer(n),i=function(e){l.updateContainer(e,o,null)};e&&i(e);var f=function(){var e=r(t.mark((function e(r){var o,i,f,p,s,d,l;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!0),o=n.document.props||{},i=o.pdfVersion,f=o.language,p=o.pageLayout,s=o.pageMode,d=new c({compress:r,pdfVersion:i,lang:f,displayTitle:!0,autoFirstPage:!1,pageLayout:p,pageMode:s}),e.next=6,a(n.document,x);case 6:return l=e.sent,e.abrupt("return",u(d,l));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(e){void 0===e&&(e={}),n.document.props.onRender&&n.document.props.onRender(e)},s=function(){var e=r(t.mark((function e(){var n,r;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,f();case 3:return r=e.sent,e.abrupt("return",new Promise((function(e,t){r.on("data",(function(e){n.push(e instanceof Uint8Array?e:new Uint8Array(e))})),r.on("end",(function(){try{var r=new Blob(n,{type:"application/pdf"});p({blob:r}),e(r)}catch(e){t(e)}}))})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=r(t.mark((function e(){return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(),e.abrupt("return",f());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=r(t.mark((function e(){var n,r;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.next=3,f(!1);case 3:return r=e.sent,e.abrupt("return",new Promise((function(e,t){try{r.on("data",(function(e){n+=e})),r.on("end",(function(){p(),e(n)}))}catch(e){t(e)}})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{on:function(e,n){C[e]||(C[e]=[]),C[e].push(n)},container:n,toBlob:s,toBuffer:d,toString:m,removeListener:function(e,n){if(C[e]){var r=C[e].indexOf(n);r>-1&&C[e].splice(r,1)}},updateContainer:i}},P=x,S={create:function(e){return e}},k=function(){var e=r(t.mark((function e(n,r,i){var u,c,a;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=T(n),e.next=3,u.toBuffer();case 3:return c=e.sent,a=o.createWriteStream(r),c.pipe(a),e.abrupt("return",new Promise((function(e,n){a.on("finish",(function(){i&&i(c,r),e(c)})),a.on("error",n)})));case 7:case"end":return e.stop()}}),e)})));return function(n,r,t){return e.apply(this,arguments)}}(),F=function(){var e=r(t.mark((function e(n){var r,o;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=T(n),e.next=3,r.toBuffer();case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),I=function(e){return T(e).toString()},O=function(e){throw new Error(e+" is a web specific API. You're either using this component on Node, or your bundler is not loading react-pdf from the appropriate web build.")},D=function(){O("usePDF")},B=function(){O("PDFViewer")},E=function(){O("PDFDownloadLink")},A=function(){O("BlobProvider")},L=k,N=e({pdf:T,Font:P,version:"3.0.0",StyleSheet:S,usePDF:D,PDFViewer:B,BlobProvider:A,PDFDownloadLink:E,renderToStream:F,renderToString:I,renderToFile:k,render:L},n);export{A as BlobProvider,P as Font,E as PDFDownloadLink,B as PDFViewer,S as StyleSheet,w as createRenderer,N as default,T as pdf,L as render,k as renderToFile,F as renderToStream,I as renderToString,D as usePDF,g as version};
//# sourceMappingURL=react-pdf.es.min.js.map
